{% extends "first_project/wrapper.html" %}
{% block head %}

<head>
    <meta charset="UTF-8" />
    <title>Document</title>
    <script src="https://kit.fontawesome.com/71a235d8ae.js" crossorigin="anonymous"></script>
</head>
{% endblock %}

{% block description %}
<div class="description">
    <h1>{{ userinfo }}'s profile</h1>
    <h4>Registered in {{ userinfo.date_joined }}</h4>
</div>
{% endblock %}

{% block content %}
<div class="info flex-grow1">
    <div class="reviews">
        <div class="list-title-size">
            <h1>Reviews</h1>
        </div>
        <div class="reviews-list list">
            {% for book in books %}
            <div class="review" id="{{ book.id }}">
                <div class="book-title">
                    <a href="/first_project/review/{{ book.id }}">
                        <h1>{{ book.title }}</h1>
                    </a>
                </div>
                <div class="book-author">
                    <h2>{{ book.author }}</h2>
                </div>
                <div class="review-content" id="review">
                    <p>{{ book.review|linebreaks }}</p>
                </div>
                <div class="rate">
                    <h2>Do you like it?
                        {% if user.is_authenticated %}
                            {% if user in book.likedone.all %}
                                <a class="liked" href="/first_project/rate/{{ book.id }}"><i class="fas fa-thumbs-up"></i></a>
                            {% else %}
                                <a href="/first_project/rate/{{ book.id }}"><i class="fas fa-thumbs-up"></i></a>
                            {% endif %}
                        {% else %}
                            <a href="/first_project/login?next={{ request.path }}"><i class="fas fa-thumbs-up"></i></a>
                        {% endif %}
                        {{ book.likenumber }}
                    </h2>
                </div>
                <div class="reviewer">
                    <a href="/first_project/user/{{ book.reviewer_id }}">
                        <h2>{{ book.reviewer }}</h2>
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    <div class="likes flex-grow1">
        <div class="list-title-size">
            <h1>Likes</h1>
        </div>
        <div class="likes-list list">
            {% for like in likes %}
            <div class="review" id="{{ like.id }}">
                <div class="book-title">
                    <a href="/first_project/review/{{ like.id }}">
                        <h1>{{ like.title }}</h1>
                    </a>
                </div>
                <div class="book-author">
                    <h2>{{ like.author }}</h2>
                </div>
                <div class="review-content" id="review">
                    <p>{{ like.review|linebreaks }}</p>
                </div>
                <div class="rate">
                    <h2>Do you like it?
                        {% if user.is_authenticated %}
                            {% if user in like.likedone.all %}
                        <a class="liked" href="/first_project/rate/{{ like.id }}"><i class="fas fa-thumbs-up"></i></a>
                            {% else %}
                        <a href="/first_project/rate/{{ like.id }}"><i class="fas fa-thumbs-up"></i></a>
                            {% endif %}
                        {% else %}
                        <a href="/first_project/login?next={{ request.path }}"><i class="fas fa-thumbs-up"></i></a>
                        {% endif %}
                        {{ like.likenumber }}
                    </h2>
                </div>
                <div class="reviewer">
                    <a href="/first_project/user/{{ like.reviewer_id }}">
                        <h2>{{ like.reviewer }}</h2>
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}
{% block footer %}
<div class="footer">
    <div class="footer-links">
      <a href="#"><i class="fab fa-github"></i></a>
    </div>
{% endblock %}